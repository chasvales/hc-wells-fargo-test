"use strict";function validationCheck(e,t,o){var n=document.getElementById(e),i=!0,a=t.split("|"),d=a[0],l=a[1];switch(console.log(e,t,o),d){case"length":o<parseInt(l)&&(i=!1);break;case"match":o==document.getElementById(l).value&&""!=o||(i=!1);break;case"validate":switch(l){case"email":/\S+@\S+\.\S+/.test(o)||(i=!1)}}return i?(n.classList.remove("error"),n.classList.add("valid"),"valid"):(n.classList.add("error"),n.classList.remove("valid"),"invalid")}function showConfirmation(){var e=document.getElementById("landing-page"),t=document.getElementById("confirmation-page");e.classList.add("hidden"),t.classList.remove("hidden"),window.scrollTo({top:0,behavior:"smooth"})}var Modal=function(){document.querySelectorAll(".trigger-modal").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),removeActiveModal(),document.getElementById(this.dataset.modal).classList.toggle("modal-showing"),setTimeout(function(){modal_showing=!0},300)})}),document.onclick=function(e){modal_showing&&(e.target.classList.contains("modal")||removeActiveModal())},document.onkeyup=function(e){27===(e=e||window.event).keyCode&&removeActiveModal()}},removeActiveModal=function(){modal_showing=!1,document.querySelectorAll(".modal-showing").forEach(function(e){e.classList.remove("modal-showing")})};function formSubmit(){var n=document.getElementById("bonus-offer-code");n.addEventListener("submit",function(e){e.preventDefault();var t=n.querySelectorAll('[data-required="true"]'),o=!1;t.forEach(function(e){"invalid"==validationCheck(e.id,e.dataset.rule,e.value)&&(e.classList.add("required"),o=!0)}),o||showConfirmation()})}var init=function(){Modal(),formSubmit()},modal_showing=!1;window.addEventListener("load",function(){init()});