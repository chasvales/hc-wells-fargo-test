"use strict";function validationCheck(e,t,o){var a=document.getElementById(e),i=!0,n=t.split("|"),d=n[0],s=n[1];switch(d){case"length":o<parseInt(s)&&(i=!1);break;case"match":o==document.getElementById(s).value&&""!=o||(i=!1);break;case"validate":switch(s){case"email":/\S+@\S+\.\S+/.test(o)||(i=!1)}}return i?(a.classList.remove("error"),a.classList.add("valid"),"valid"):(a.classList.add("error"),a.classList.remove("valid"),"invalid")}function showConfirmation(){window.scrollTo({top:0,behavior:"smooth"})}var Modal=function(){document.querySelectorAll(".trigger-modal").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),removeActiveModal(),document.getElementById(this.dataset.modal).classList.toggle("modal-showing"),setTimeout(function(){modal_showing=!0},300)})}),document.onclick=function(e){modal_showing&&(e.target.classList.contains("modal")||removeActiveModal())},document.onkeyup=function(e){27===(e=e||window.event).keyCode&&removeActiveModal()}},removeActiveModal=function(){modal_showing=!1,document.querySelectorAll(".modal-showing").forEach(function(e){e.classList.remove("modal-showing")})};function formSubmit(){var a=document.getElementById("bonus-offer-code");a.addEventListener("submit",function(e){this.dataset.formready?this.dataset.formready=!1:e.preventDefault();var t=a.querySelectorAll('[data-required="true"]'),o=!1;t.forEach(function(e){"invalid"==validationCheck(e.id,e.dataset.rule,e.value)&&(e.classList.add("required"),o=!0)}),o||(this.dataset.formready=!0,a.submit())})}var init=function(){Modal(),formSubmit()},modal_showing=!1;window.addEventListener("load",function(){init()});