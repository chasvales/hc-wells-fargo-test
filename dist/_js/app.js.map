{"version":3,"sources":["../../_source/app.js"],"names":["validationCheck","ele","rules","value","element","document","getElementById","valid","rule","split","rulename","rulevalue","parseInt","elementToMatch","re","test","classList","remove","add","showConfirmation","window","scrollTo","top","behavior","Modal","modal_element","querySelectorAll","forEach","addEventListener","event","preventDefault","removeActiveModal","dataset","modal","toggle","setTimeout","modal_showing","onclick","target","contains","onkeyup","e","keyCode","formSubmit","signupForm","formready","elements","invalidFields","el","id","validCheck","submit","init"],"mappings":";;AAAA,SAASA,eAAT,CAAyBC,GAAzB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4C;AAC1C,MAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBL,GAAxB,CAAd;AACA,MAAIM,KAAK,GAAG,IAAZ;AACA,MAAIC,IAAI,GAAGN,KAAK,CAACO,KAAN,CAAY,GAAZ,CAAX;AACA,MAAIC,QAAQ,GAAGF,IAAI,CAAC,CAAD,CAAnB;AACA,MAAIG,SAAS,GAAGH,IAAI,CAAC,CAAD,CAApB;;AAEA,UAAQE,QAAR;AACE,SAAK,QAAL;AACE,UAAIP,KAAK,GAAGS,QAAQ,CAACD,SAAD,CAApB,EAAiC;AAC/BJ,QAAAA,KAAK,GAAG,KAAR;AACD;;AACD;;AACF,SAAK,OAAL;AACE,UAAIM,cAAc,GAAGR,QAAQ,CAACC,cAAT,CAAwBK,SAAxB,EAAmCR,KAAxD;;AACA,UAAIA,KAAK,IAAIU,cAAT,IAA2BV,KAAK,IAAI,EAAxC,EAA4C;AAC1CI,QAAAA,KAAK,GAAG,KAAR;AACD;;AACD;;AACF,SAAK,UAAL;AACE,cAAQI,SAAR;AACE,aAAK,OAAL;AACE,cAAIG,EAAE,GAAG,cAAT;;AACA,cAAI,CAACA,EAAE,CAACC,IAAH,CAAQZ,KAAR,CAAL,EAAqB;AACnBI,YAAAA,KAAK,GAAG,KAAR;AACD;;AACD;AANJ;;AAQA;AArBJ;;AAuBA,MAAIA,KAAJ,EAAW;AACTH,IAAAA,OAAO,CAACY,SAAR,CAAkBC,MAAlB,CAAyB,OAAzB;AACAb,IAAAA,OAAO,CAACY,SAAR,CAAkBE,GAAlB,CAAsB,OAAtB;AACA,WAAO,OAAP;AACD,GAJD,MAIO;AACLd,IAAAA,OAAO,CAACY,SAAR,CAAkBE,GAAlB,CAAsB,OAAtB;AACAd,IAAAA,OAAO,CAACY,SAAR,CAAkBC,MAAlB,CAAyB,OAAzB;AACA,WAAO,SAAP;AACD;AACF;;AACD,SAASE,gBAAT,GAA4B;AAC1BC,EAAAA,MAAM,CAACC,QAAP,CAAgB;AAAEC,IAAAA,GAAG,EAAE,CAAP;AAAUC,IAAAA,QAAQ,EAAE;AAApB,GAAhB;AACD;;AACD,IAAIC,KAAK,GAAG,SAARA,KAAQ,GAAW;AACrB,MAAIC,aAAa,GAAGpB,QAAQ,CAACqB,gBAAT,CAA0B,gBAA1B,CAApB;AACAD,EAAAA,aAAa,CAACE,OAAd,CAAsB,UAASvB,OAAT,EAAkB;AACtCA,IAAAA,OAAO,CAACwB,gBAAR,CAAyB,OAAzB,EAAkC,UAASC,KAAT,EAAgB;AAChDA,MAAAA,KAAK,CAACC,cAAN;AACAC,MAAAA,iBAAiB;AACjB1B,MAAAA,QAAQ,CACLC,cADH,CACkB,KAAK0B,OAAL,CAAaC,KAD/B,EAEGjB,SAFH,CAEakB,MAFb,CAEoB,eAFpB;AAIAC,MAAAA,UAAU,CAAC,YAAM;AACfC,QAAAA,aAAa,GAAG,IAAhB;AACD,OAFS,EAEP,GAFO,CAAV;AAGD,KAVD;AAWD,GAZD;;AAaA/B,EAAAA,QAAQ,CAACgC,OAAT,GAAmB,UAASR,KAAT,EAAgB;AACjC,QAAIO,aAAJ,EAAmB;AACjB,UAAI,CAACP,KAAK,CAACS,MAAN,CAAatB,SAAb,CAAuBuB,QAAvB,CAAgC,OAAhC,CAAL,EAA+C;AAC7CR,QAAAA,iBAAiB;AAClB;AACF;AACF,GAND;;AAOA1B,EAAAA,QAAQ,CAACmC,OAAT,GAAmB,UAASC,CAAT,EAAY;AAC7BA,IAAAA,CAAC,GAAGA,CAAC,IAAIrB,MAAM,CAACS,KAAhB,CAD6B,CAE7B;;AACA,QAAIY,CAAC,CAACC,OAAF,KAAc,EAAlB,EAAsB;AACpBX,MAAAA,iBAAiB;AAClB;AACF,GAND;AAOD,CA7BD;;AA8BA,IAAIA,iBAAiB,GAAG,SAApBA,iBAAoB,GAAW;AACjCK,EAAAA,aAAa,GAAG,KAAhB;AACA,MAAIH,KAAK,GAAG5B,QAAQ,CAACqB,gBAAT,CAA0B,gBAA1B,CAAZ;AACAO,EAAAA,KAAK,CAACN,OAAN,CAAc,UAASvB,OAAT,EAAkB;AAC9BA,IAAAA,OAAO,CAACY,SAAR,CAAkBC,MAAlB,CAAyB,eAAzB;AACD,GAFD;AAGD,CAND;;AAOA,SAAS0B,UAAT,GAAsB;AACpB,MAAIC,UAAU,GAAGvC,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAjB,CADoB,CAEpB;;AACAsC,EAAAA,UAAU,CAAChB,gBAAX,CAA4B,QAA5B,EAAsC,UAASC,KAAT,EAAgB;AACpD,QAAI,KAAKG,OAAL,CAAaa,SAAjB,EAA4B;AAC1B,WAAKb,OAAL,CAAaa,SAAb,GAAyB,KAAzB;AACD,KAFD,MAEO;AACLhB,MAAAA,KAAK,CAACC,cAAN;AACD;;AACD,QAAIgB,QAAQ,GAAGF,UAAU,CAAClB,gBAAX,CAA4B,wBAA5B,CAAf;AACA,QAAIqB,aAAa,GAAG,KAApB;AAEAD,IAAAA,QAAQ,CAACnB,OAAT,CAAiB,UAASvB,OAAT,EAAkB;AACjC,UAAI4C,EAAE,GAAG5C,OAAO,CAAC6C,EAAjB;AACA,UAAI/C,KAAK,GAAGE,OAAO,CAAC4B,OAAR,CAAgBxB,IAA5B;AACA,UAAIL,KAAK,GAAGC,OAAO,CAACD,KAApB;AACA,UAAI+C,UAAU,GAAGlD,eAAe,CAACgD,EAAD,EAAK9C,KAAL,EAAYC,KAAZ,CAAhC;;AACA,UAAI+C,UAAU,IAAI,SAAlB,EAA6B;AAC3B9C,QAAAA,OAAO,CAACY,SAAR,CAAkBE,GAAlB,CAAsB,UAAtB;AACA6B,QAAAA,aAAa,GAAG,IAAhB;AACD;AACF,KATD;;AAUA,QAAI,CAACA,aAAL,EAAoB;AAClB;AACA,WAAKf,OAAL,CAAaa,SAAb,GAAyB,IAAzB;AACAD,MAAAA,UAAU,CAACO,MAAX;AACD;AACF,GAxBD;AAyBD;;AACD,IAAIC,IAAI,GAAG,SAAPA,IAAO,GAAW;AACpB5B,EAAAA,KAAK;AACLmB,EAAAA,UAAU;AACX,CAHD;;AAIA,IAAIP,aAAa,GAAG,KAApB;AACAhB,MAAM,CAACQ,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACzCwB,EAAAA,IAAI;AACL,CAFD","sourcesContent":["function validationCheck(ele, rules, value) {\n  var element = document.getElementById(ele);\n  var valid = true;\n  var rule = rules.split(\"|\");\n  var rulename = rule[0];\n  var rulevalue = rule[1];\n\n  switch (rulename) {\n    case \"length\":\n      if (value < parseInt(rulevalue)) {\n        valid = false;\n      }\n      break;\n    case \"match\":\n      var elementToMatch = document.getElementById(rulevalue).value;\n      if (value != elementToMatch || value == \"\") {\n        valid = false;\n      }\n      break;\n    case \"validate\":\n      switch (rulevalue) {\n        case \"email\":\n          var re = /\\S+@\\S+\\.\\S+/;\n          if (!re.test(value)) {\n            valid = false;\n          }\n          break;\n      }\n      break;\n  }\n  if (valid) {\n    element.classList.remove(\"error\");\n    element.classList.add(\"valid\");\n    return \"valid\";\n  } else {\n    element.classList.add(\"error\");\n    element.classList.remove(\"valid\");\n    return \"invalid\";\n  }\n}\nfunction showConfirmation() {\n  window.scrollTo({ top: 0, behavior: \"smooth\" });\n}\nvar Modal = function() {\n  var modal_element = document.querySelectorAll(\".trigger-modal\");\n  modal_element.forEach(function(element) {\n    element.addEventListener(\"click\", function(event) {\n      event.preventDefault();\n      removeActiveModal();\n      document\n        .getElementById(this.dataset.modal)\n        .classList.toggle(\"modal-showing\");\n\n      setTimeout(() => {\n        modal_showing = true;\n      }, 300);\n    });\n  });\n  document.onclick = function(event) {\n    if (modal_showing) {\n      if (!event.target.classList.contains(\"modal\")) {\n        removeActiveModal();\n      }\n    }\n  };\n  document.onkeyup = function(e) {\n    e = e || window.event;\n    // use e.keyCode\n    if (e.keyCode === 27) {\n      removeActiveModal();\n    }\n  };\n};\nvar removeActiveModal = function() {\n  modal_showing = false;\n  var modal = document.querySelectorAll(\".modal-showing\");\n  modal.forEach(function(element) {\n    element.classList.remove(\"modal-showing\");\n  });\n};\nfunction formSubmit() {\n  var signupForm = document.getElementById(\"bonus-offer-code\");\n  //var signupRoute = signupForm.action;\n  signupForm.addEventListener(\"submit\", function(event) {\n    if (this.dataset.formready) {\n      this.dataset.formready = false;\n    } else {\n      event.preventDefault();\n    }\n    var elements = signupForm.querySelectorAll('[data-required=\"true\"]');\n    var invalidFields = false;\n\n    elements.forEach(function(element) {\n      var el = element.id;\n      var rules = element.dataset.rule;\n      var value = element.value;\n      var validCheck = validationCheck(el, rules, value);\n      if (validCheck == \"invalid\") {\n        element.classList.add(\"required\");\n        invalidFields = true;\n      }\n    });\n    if (!invalidFields) {\n      // if all required fields pass validation, move on.\n      this.dataset.formready = true;\n      signupForm.submit();\n    }\n  });\n}\nvar init = function() {\n  Modal();\n  formSubmit();\n};\nvar modal_showing = false;\nwindow.addEventListener(\"load\", function() {\n  init();\n});\n"],"file":"app.js"}